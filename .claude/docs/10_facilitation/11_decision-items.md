# 決定事項定義

このドキュメントは、各フェーズで**決めるべき項目**を定義しています。

AIは、各フェーズでこのリストを参照し、すべての必須項目が決まっているかを確認してください。

---

## 企画フェーズ

### 必須項目
- [ ] **ビジョン・目的**
  - 何を実現したいのか
  - なぜ作るのか

- [ ] **背景・課題**
  - 現状の問題
  - 解決したい課題

- [ ] **ステークホルダー**
  - 誰が関係するか
  - 誰のためのシステムか

- [ ] **成功基準**
  - 何を持って成功とするか
  - KPI

### 任意項目
- [ ] ROI計算
- [ ] 競合分析
- [ ] リスク分析

---

## 要件定義フェーズ

### 必須項目

#### ビジネス背景（最優先）
- [ ] **業種・業態**
  - どのような業界か
  - ビジネスモデル

- [ ] **現在の課題**
  - 何が問題なのか
  - どう困っているのか

- [ ] **開発の理由**
  - なぜ今開発が必要なのか
  - きっかけは何か

- [ ] **新規 or 移行**
  - 新規開発か
  - レガシーシステムからの移行か
  - 既存システムとの統合が必要か

#### システム要件
- [ ] **システム概要**
  - どのようなシステムを作るか
  - 主な機能

- [ ] **想定ユーザー・規模**
  - 誰が使うか
  - 何人が使うか
  - トラフィック量

- [ ] **機能要件**
  - 必須機能（最低3つ）
  - 優先順位

#### 非機能要件
- [ ] **性能要件**
  - レスポンス速度
  - 処理性能

- [ ] **セキュリティ要件**
  - 認証・認可
  - コンプライアンス
  - データ保護

- [ ] **可用性要件**
  - ダウンタイム許容度
  - 稼働率（99.9%、99.99%等）

#### 制約条件
- [ ] **予算制約**
  - 予算の有無
  - 上限

- [ ] **期間制約**
  - 納期
  - マイルストーン

- [ ] **技術制約**
  - 使えない技術
  - 必須の技術
  - 既存システムとの互換性

### 任意項目
- [ ] 参考にしたい既存サービス
- [ ] 将来の拡張計画
- [ ] 多言語対応
- [ ] アクセシビリティ要件

---

## 設計フェーズ

### 必須項目

#### アーキテクチャ
- [ ] **アーキテクチャ方式**
  - モノリス / マイクロサービス
  - サーバーレス / コンテナ
  - 選定理由

#### 技術スタック
- [ ] **フロントエンド**（該当する場合）
  - フレームワーク（React、Vue等）
  - 状態管理
  - UI/UXライブラリ

- [ ] **バックエンド**（該当する場合）
  - 言語・フレームワーク
  - APIデザイン（REST、GraphQL等）

- [ ] **データベース**
  - RDBMS / NoSQL
  - 選定理由
  - スキーマ設計

- [ ] **インフラ**
  - クラウドプロバイダー（AWS、GCP、Azure）
  - IaCツール（Terraform、CloudFormation等）
  - ネットワーク設計

#### CI/CD戦略
- [ ] **環境戦略**
  - dev / stg / prod の構成
  - 環境ごとの差分管理

- [ ] **ブランチ戦略**
  - Git-Flow / GitHub-Flow
  - ブランチ命名規則

- [ ] **デプロイ戦略**
  - CI/CDツール（GitHub Actions等）
  - デプロイフロー
  - ロールバック戦略

#### セキュリティ設計
- [ ] **認証・認可**
  - 認証方式（OAuth、JWT等）
  - 権限管理

- [ ] **機密情報管理**
  - シークレット管理方法
  - 環境変数の扱い

#### ビジュアル資料
- [ ] **システム構成図**
- [ ] **CI/CDパイプライン図**
- [ ] **ネットワーク図**（インフラの場合）
- [ ] **ER図**（データベースがある場合）

### 任意項目
- [ ] コスト見積もり
- [ ] パフォーマンス最適化戦略
- [ ] 監視・ロギング設計
- [ ] バックアップ戦略

---

## 実装フェーズ

### 必須項目
- [ ] **ディレクトリ構造**
  - プロジェクト構成
  - ファイル配置

- [ ] **コーディング規約**
  - 命名規則
  - コメント規則
  - フォーマット

- [ ] **技術標準の適用**
  - `.claude/docs/40_standards/` の適用
  - モジュール分割
  - 環境差分管理

- [ ] **依存関係管理**
  - パッケージ管理
  - バージョン固定

### 任意項目
- [ ] リファクタリング計画
- [ ] パフォーマンスチューニング

---

## テストフェーズ

### 必須項目
- [ ] **テスト戦略**
  - 単体テスト
  - 結合テスト
  - システムテスト
  - 受入テスト

- [ ] **テストケース**
  - 正常系
  - 異常系
  - 境界値

- [ ] **カバレッジ目標**
  - 目標値（80%等）

### 任意項目
- [ ] パフォーマンステスト
- [ ] セキュリティテスト
- [ ] 負荷テスト

---

## デプロイフェーズ

### 必須項目
- [ ] **デプロイ手順**
  - 手順書
  - dry-run実施

- [ ] **ロールバック手順**
  - 失敗時の対応
  - 前バージョンへの戻し方

- [ ] **環境変数・シークレット**
  - すべて設定済みか
  - 本番環境で動作確認

- [ ] **監視設定**
  - ヘルスチェック
  - アラート設定

### 任意項目
- [ ] カナリアリリース
- [ ] ブルーグリーンデプロイ
- [ ] 段階的ロールアウト

---

## フェーズ完了の判定基準

各フェーズは、以下の条件を満たした時に「完了」と判定する：

1. **必須項目がすべて決定済み**
2. **ドキュメントが生成済み**
3. **ユーザーがレビュー・承認済み**

任意項目は、ユーザーの判断で決定/スキップを選択できる。

---

## AIの確認方法

フェーズ終了前に、このリストを参照して：

1. **チェックリストを内部で確認**
   - どれが決まっているか
   - どれが未決定か

2. **未決定項目があれば追加ヒアリング**
   - 必須項目は必ず聞く
   - 任意項目はユーザーに確認

3. **すべて決まったらドキュメント生成**

4. **ユーザーにレビュー依頼**

---

このドキュメントを活用して、抜け漏れのないファシリテーションを実現してください。